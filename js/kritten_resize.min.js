'use strict';var _createClass=function(){function a(b,c){for(var e,d=0;d<c.length;d++)e=c[d],e.enumerable=e.enumerable||!1,e.configurable=!0,'value'in e&&(e.writable=!0),Object.defineProperty(b,e.key,e)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError('Cannot call a class as a function')}var Kritten_Resize=function(){function a(b,c){_classCallCheck(this,a),this.m_column_resized=b,this.m_column_passive=c,this.m_row=this.m_column_passive.parent(),this.m_slider=void 0,this.m_indicate_hide_filters=!1,this.m_width_start=void 0,this.m_width_current=void 0,this.m_width_last=void 0,this.m_mouse_start=void 0,this.init_styles(),this.init_content(),this.init_events()}return _createClass(a,[{key:'init_content',value:function init_content(){this.m_slider=$('\n        \t<div class="resizeable_slider_wrapper">\n        \t\t<div class="resizeable_slider"></div>\n    \t\t</div>\n\t\t'),this.m_column_resized.prepend(this.m_slider)}},{key:'init_events',value:function init_events(){$(document).on('pointerdown','.resizeable_slider_wrapper',this,this.mousedown),$(document).on('pointerdown','.resizeable_show',this,this.click)}},{key:'init_styles',value:function init_styles(){$('head').append('\n            <style>\n\t            '+'\n\t    \t.resizeable_slider_wrapper {\n\t\t\t\tposition: absolute; \n\t\t\t\tright: 0px; \n\t\t\t\tz-index: 3; \n\n\t    \t\twidth: 26px;\n\t\t\t\theight: 100%; \n\n\t\t\t\tpadding: 10px 11px;\n\t\t\t\tcursor: col-resize;\n\n\t    \t\ttouch-action: none;\n\t    \t\tright: -13px;\n\t    \t}\n\n\t    \t.resizeable_slider {\n\t    \t\tbackground-color: rgba(0, 0, 0, 0.2);\n\t\t\t\theight: 100%;\t    \t\t\n\t\t\t\twidth: 100%;\t    \t\t\n\t\t\t}\n    \t'+'\n\t            '+'\n\t    \t.resizeable_show {\n\t\t\t\tborder-left: 10px solid rgba(0, 0, 0, 0.2);\n\t\t\t\tborder-top: 10px solid transparent;\n\t\t\t\tborder-bottom: 10px solid transparent;\n\t\t\t\tmin-height: 90vh;\n\t\t\t\theight: calc(100% - 20px); \n\t\t\t\ttop: 10px; \n\t\t\t\tz-index: 3; \n\t\t\t\tposition: absolute; \n\t\t\t\tcursor: pointer;\n\t\t\t\tleft: 0px; \n\n\t\t\t}\n\t    \t.resizeable_show:hover {\n\t\t\t\tborder-left: 10px solid rgba(0, 0, 0, 0.3);\n\t\t\t\tborder-top: 10px solid transparent;\n\t\t\t\tborder-bottom: 10px solid transparent;\n\t\t\t}\n    \t'+'\n\t            '+'\n\t    \t.kritten_resize_left {\n\t    \t\tmax-width: 100%;\n\t\t\t}\n    \t'+'\n            </style>\n        ')}},{key:'mousedown',value:function mousedown(b){$('body').css('user-select','none'),b.data.m_width_start=b.data.m_column_resized.outerWidth(),b.data.m_column_resized.css('flex-grow',0),b.data.m_column_resized.css('flex-basis',b.data.m_width_start),b.data.m_width_current=b.data.m_width_start,b.data.m_mouse_start=b.pageX,$(document).on('pointermove',b.data,b.data.mousemove),$(document).on('pointerup',b.data,b.data.mouseup)}},{key:'mousemove',value:function mousemove(b){var c=b.data.m_width_start,d=c+(b.pageX-b.data.m_mouse_start);100>=d?!b.data.m_indicate_hide_filters&&(b.data.m_indicate_hide_filters=!0,b.data.m_slider.css('right',296),b.data.m_column_resized.css('opacity',0.3)):b.data.m_indicate_hide_filters&&(b.data.m_slider.css('right',-13),b.data.m_indicate_hide_filters=!1,b.data.m_column_resized.css('opacity',1)),d=Math.max(300,d),b.data.m_column_resized.css('flex-basis',d),b.data.m_column_passive.width()+b.data.m_column_resized.width()<b.data.m_row.width()?b.data.m_width_current=d:b.data.m_column_resized.css('flex-basis',b.data.m_width_current)}},{key:'click',value:function click(b){void 0==b.data.m_width_last&&(b.data.m_width_last=300),console.log(b.data.m_width_last),b.data.m_column_resized.css('flex-basis',b.data.m_width_last),set_session_entry('width_filters',b.data.m_width_last),b.data.m_column_resized.css('opacity',1),b.data.m_column_resized.show(),$(this).remove(),b.data.m_slider.css('right',-13)}},{key:'mouseup',value:function mouseup(b){b.data.m_indicate_hide_filters?(b.data.m_column_resized.hide(),b.data.m_column_passive.prepend('<div class="resizeable_show"></div>'),set_session_entry('width_filters',!1)):(b.data.m_width_last=b.data.m_width_current,set_session_entry('width_filters',b.data.m_width_current)),$('body').css('user-select',''),$(document).off('pointermove',b.data.mousemove),$(document).off('pointerup',b.data.mouseup)}}]),a}(),Kritten_Resize_Manager=function(){function a(){_classCallCheck(this,a),this.init()}return _createClass(a,[{key:'init',value:function init(){$('[data-kritten_resize]').each(function(b,c){var d=$(c),e=d.children();if(2==e.length){var f=$(e[0]),g=$(e[1]);if(50<d.width()-f.width()){f.addClass('kritten_resize_left'),g.addClass('kritten_resize_right');new Kritten_Resize(f,g)}}})}}]),a}(),kritten_resize_manager=new Kritten_Resize_Manager;